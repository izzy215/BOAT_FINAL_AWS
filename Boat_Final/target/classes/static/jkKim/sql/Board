DROP table Board CASCADE CONSTRAINTS PURGE;
DROP table board_fav CASCADE CONSTRAINTS PURGE;


CREATE TABLE BOARD (
  BOARD_NUM NUMBER(5) NOT NULL,
  BOARD_NAME VARCHAR2(30) NOT NULL,
  BOARD_PASS VARCHAR2(30) NOT NULL,
  BOARD_SUBJECT VARCHAR2(300) NOT NULL,
  BOARD_CONTENT VARCHAR2(4000) NOT NULL,
  BOARD_DEPT VARCHAR2(15) NOT NULL,
  BOARD_RE_REF NUMBER(5) NOT NULL,
  BOARD_RE_LEV NUMBER(5) NOT NULL,
  BOARD_RE_SEQ NUMBER(5) NOT NULL,
  BOARD_READCOUNT NUMBER(5) NOT NULL,
  BOARD_DATE DATE DEFAULT SYSDATE,
  BOARD_EMPNO NUMBER(10),
  BOARD_NOTICE VARCHAR2(20), --공지사항
  BOARD_JOB VARCHAR(20), --직책
  CONSTRAINT PK_BOARD PRIMARY KEY (BOARD_NUM)
);

ALTER TABLE BOARD ADD (
  BOARD_RE_REF_NUM NUMBER(5),
  CONSTRAINT FK_BOARD_RE_REF FOREIGN KEY (BOARD_RE_REF_NUM)
    REFERENCES BOARD(BOARD_NUM)
    ON DELETE CASCADE
);
--답글삭제기능 추가

CREATE TABLE BOARD_FAV (
BOARD_NUM NUMBER(5) NOT NULL,
BOARD_EMPNO NUMBER(10) NOT NULL,
BOARD_DEPT VARCHAR2(15) NOT NULL
);

--reference 추가
